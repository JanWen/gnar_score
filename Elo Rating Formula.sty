Elo Rating Formula
Elo rating is calculated in the standard way:

    400 points difference means 90% chance for winning
    Start rating is 1500 points
    Minimum is 10 matches

However, highly customized K-factor function reflecting tournament level, match round, best-of, walkover and player current rating is used:

    K-factor base value is 32
    Tournament level adjustment is: Grand Slam 100%, Tour Finals 90%, Masters 85%, Olympics 80%, ATP 500 75% and all others 70%
    Match round adjustment is: Final 100%, Semi-Final 90%, Quarter-Final and Round-Robin 85%, Rounds of 16 and 32 80%, Rounds of 64 and 128 75% and For Bronze Medal 95%
    Best-of sets adjustment: Best-of-5 100% and Best-of-3 90%
    Walk-over adjustment: 50%
    Current rating adjustment (this allows lower ranked players to advance more rapidly, while stabilizes ratings at the top):
    1 + 18 / (1 + 2 (rating - 1500) / 63)
        For rating of 1500: x 10
        For rating of 1600: x 5.5
        For rating of 1800: x 1.64
        For rating of 2000: x 1.07
        For rating of 2200: x 1.008
    K-factor
    Each of the above coefficients (tournament level, round, best-of, walkover and current rating) are experimentally and carefully optimized for maximum predictability
    Recent Elo (reflecting more recent form than classic Elo rating): x 2
    Surface factor (for Elo ratings by surface and by outdoor/indoor): Depends on the percentage of surface or outdoor/indoor matches in the season
    Set, Game, Service/Return Game and Tie-Break Elo Ratings K-factor adjustments are work in progress, thus subject to change

Start rating is 1500 for new players joining the ATP circuit, while for players at the beginning of Open Era start rating is the average Elo rating for the current rank.
Average Elo ratings of Top 10/20/50/100/200 as calculated by this formula are guaranteed to be constant over time, even at the beginning of Open Era, thus it is a relatively good indication of comparable player strengths across Eras.
Not playing penalty - In original Elo, there is no penalty when players are not playing for longer periods of time. However, after they start playing matches again, the Elo rating obviously does not reflect their current form. To address this, non-playing Elo rating penalty is introduced. Penalty is proportional to the number of days passed since the last match and is using special logistic function with several experimentally tuned parameters for maximum predictability.

Examples (upsets make bigger points exchange):

    Grand Slam final, rating 2450 d. 2350 (winner had 64% chances of win): [+12, -12] (+12 for winner, -12 for loser)
    Masters semi-final ratings 2000 d. 2350 (winner had 19% chances of win): [+21, -19]
    ATP 250 round of 32, rating 2250 d. 1800 (winner had 93% chances of win): [+1, -2]

.
The most notable change is a different function for K-factor dependence on the current player rating. Instead of a function with three linear sections, the new unified logistic function allows much smoother and much faster progress of newcomers to the top 50, as well as smother stabilization of the top 50 ratings and players.
Parameter Tweaking

All K-factor parameters are also tweaked for optimal predictability. Interesting is that the old parameters for tournament level, round, best-of and walkover are still standing and that predictability scoring has shown that they really hold. It is just that these parameters are a little bit tweaked, while it is proven that their existence does influence predictability. Without even single item predictability will be lower, which proves that there really exists a significant difference in the importance of wins in different tournament levels, rounds and best-of-3/5 formats, as well as that walkover wins, do influence the predictability of future matches.

The new formula increases the prediction rate of Elo ratings by around 0.6%. It may sound like a small increase, but when approaching the limit of the inherent randomness of tennis matches' outcomes, this is a significant increase.
The 'Big Picture' Differences

All historical Elo ratings are recalculated from scratch, thus Peak Elo Ratings lists contain new figures. However, in general, you will notice little changes, as the previous function was good, but the new function is a little better as it features maximum predictability in addition. This means it can both better predict match winners when players are of similar strength, but also gives more accurate probabilities when favorites play the outsiders.
